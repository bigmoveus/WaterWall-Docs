---
sidebar_position: 100
---

# نصب WaterWall

راهنمای گام‌به‌گام نصب WaterWall بر روی سرور Linux شما. 🚀

## پیش‌نیازها

- دسترسی روت برای زمانی که از پورت‌های زیر ۱۰۲۴ استفاده می‌کنید یا وقتی که از node های کار با پکت استفاده می‌شود.
- اطمینان از نصب ابزارهای پایه‌ای مانند `curl` و `ping` برای تست‌های اولیه.

## دانلود فایل اجرایی

واتروال سیستم‌عامل‌های مختلفی را پشتیبانی می‌کند و تمام برنامه در یک فایل خروجی ارائه می‌شود.

1. وارد لینک زیر شوید و فایل zip مربوط به سیستم‌عامل خود را دانلود کنید:

   [دانلود آخرین نسخه WaterWall](https://github.com/radkesvat/WaterWall/releases/latest/)

2. فایل را از حالت فشرده خارج کنید.
3. اگر در لینوکس اجرا می‌کنید، فایل را قابل اجرا کنید:

```bash
sudo chmod +x waterwall
```

4. واتروال را یک بار اجرا کنید تا نسخه کنونی را نمایش دهد و مطمئن شوید مراحل درست انجام شده است:

```bash
./Waterwall
```

5. پیشناهاد میشه اگه فایروال در حال اجرا هست آن را ببندید مگر آن که تنظیم دقیق آن را بلد هستید

عموما واتروال با ufw تداخل دارد 

```bash
sudo ufw stop
```



✅ **تبریک!** WaterWall با موفقیت نصب شد.

## اولین اجرا 🎯

برای اطمینان از عملکرد صحیح، می‌توانید یک وب‌سایت در پورت ۸۰۸۰ بالا بیاورید.

### ایجاد فایل تست


1. یک فایل `core.json` ساده ایجاد کنید:

```bash
cat > core.json << 'EOF'
{
  "log": {
    "path": "logs/",
    "core": {
      "loglevel": "INFO",
      "file": "core.log",
      "console": true
    }
  },
  "misc": {
    "workers": 0,
    "ram-profile": "client"
  },
  "configs": ["configs/test.json"]
}
EOF
```

2. پیکربندی تست را ایجاد کنید:

```bash
mkdir -p configs
cat > configs/test.json << 'EOF'
{
  "name": "test_proxy",
  "author": "شما",
  "config-version": 1,
  "nodes": [
    {
      "name": "listener",
      "type": "TcpListener",
      "settings": {
        "address": "0.0.0.0",
        "port": 8080
      },
      "next": "connector"
    },
    {
      "name": "connector",
      "type": "TcpConnector",
      "settings": {
        "address": "httpforever.com",
        "port": 80
      }
    }
  ]
}
EOF
```

### اجرای تست

1. WaterWall را اجرا کنید:

```bash
./Waterwall
```

2. در یک ترمینال جدید، تست کنید:

```bash
curl http://127.0.0.1:8080 
```

اگر پیام "Hello HTTP!" را دیدید، نصب موفقیت‌آمیز بوده است! 🎉

همچنین با باز کردن ایپی سرور و پورت 8080 می توانید سایت را مشاهده کنید

## عیب‌یابی مشکلات رایج 🔍

### مشکل: دسترسی رد شد (Permission Denied)

```bash
# اجرا با sudo
sudo ./waterwall core.json

# یا تغییر پورت به بالای 1024
```

### مشکل: پورت در حال استفاده

```bash
# بررسی پورت‌های در حال استفاده
netstat -tuln | grep :8080

# تغییر پورت در فایل config
```

### مشکل: فایل پیدا نشد

```bash
# بررسی مسیر فعلی
pwd

# بررسی وجود فایل‌ها
ls -la core.json configs/
```

### مشکل: اتصال به اینترنت

```bash
# تست اتصال
ping google.com

# بررسی DNS
nslookup httpforever.com
```

## حذف WaterWall (در صورت نیاز) 🗑️

1. حذف فایل اجرایی:

```bash
sudo rm Waterwall
```

2. حذف پوشه‌ها (اختیاری):

  واتروال در محلی که اجرا شده پوشه log را میسازد و این تنها پوشه ای هست که ایجاد می شود 
  میتوانید آن را اینگونه پاک کنید 

```bash
rm -rf logs/
```

## مراحل بعدی 📖

حالا که WaterWall نصب شده، آماده‌اید برای:

بخش دوم آموزش
استفاده از نود ها و ساخت کانفیگ فایل

## نکات مهم 💡

### امنیت

- همیشه آخرین نسخه را استفاده کنید.
- فایل‌های پیکربندی را محافظت کنید.
- از پورت‌های امن استفاده کنید.


### پشتیبانی

- **مستندات**: این راهنما شامل همه چیز است.
- **GitHub**: [Issues و Discussions](https://github.com/radkesvat/WaterWall).
- **کامیونیتی**: کمک از کاربران دیگر.

