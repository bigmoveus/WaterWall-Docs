---
sidebar_position: 100002
---

# DataAsPacket

## 📖 معرفی کلی


| ویژگی              | مقدار                                 | توضیح                                                      |
|--------------------|----------------------------------------|------------------------------------------------------------|
| **نوع نود**        | Tunnel (تک‌جهته)                       | جریان داده از چپ آغاز شده و به راست پیش می‌رود.           |
| **لایه شبکه**      | چپ: لایهٔ ۴، راست: لایهٔ ۳            | پکت‌ها را از کانکشن استخراج کرده و به نود بعدی منتقل می‌کند. |
| **جهت پشتیبانی**  | چپ به راست (Left to Right)            | دو‌جهته نیست؛ فقط یک‌طرفه است.                            |
| **موقعیت در زنجیر**| وسط زنجیر                              | تنها در میانهٔ زنجیر قابل استفاده است.                    |
| **وابستگی**        | حداقل یک نود لایهٔ ۴ در چپ و یک نود لایهٔ ۳ در راست | برای دریافت دادهٔ ورودی و تحویل آن به لایهٔ ۳ ضروری است. |

## عملکرد

همان‌طور که از نامش پیداست، انتظار دارد داده‌ای که از سمت چپ و از طریق کانکشن دریافت می‌کند، به‌صورت پکت باشد.

این نود پکت‌ها را می‌خواند، اندازهٔ هر پکت را بررسی می‌کند و در صورت نیاز بافر می‌کند تا هر پکت به‌طور کامل دریافت شود؛ سپس آن را به نود بعدی منتقل می‌کند.

به این ترتیب می‌توانید نه‌تنها با نودهای UDP، بلکه با TCP هم پکت‌ها را جابه‌جا کرده و در اینجا دریافت کنید.

معمولاً پس از این نود، مسیر به نودهایی مانند TunDevice و RawDevice ختم می‌شود، یا به‌طور کلی به نودهایی که با پکت کار می‌کنند.

این نود برای ساخت سناریوهایی مانند OpenVPN و WireGuard کاربردی است. چون قرار است پکت‌ها از TCP/UDP عبور کنند، معمولاً در سمت سرور VPN استفاده می‌شود.

نود متناظر آن PacketAsData است که دقیقاً کار برعکس را انجام می‌دهد و معمولاً در سمت کلاینت به‌کار می‌رود.

این نود و همچنین PacketAsData هیچ افزوده‌ای ایجاد نمی‌کنند و تغییری در داده نمی‌دهند.

---

## ⚙️ راهنمای پیکربندی

```json
{
    "name": "node_name",
    "type": "DataAsPacket",
    "settings": {},
    "next": "next_node_name"
}
```
:::caution نکات مهم
- این نود تنظیمات اختصاصی ندارد، اما ورودی آن باید «پکت» باشد.
- اگر زنجیره را طوری بسازید که به این نود دادهٔ غیرپکتی برسد، چون فرض را بر پکت‌بودن می‌گذارد، اندازه را از ابتدای جریان می‌خواند و منتظر کامل‌شدن پکت می‌ماند؛ این موضوع می‌تواند باعث ایجاد تأخیر، مسدودشدن جریان یا اختلال در زنجیره شود.
:::



