---
sidebar_position: 100300
---

# PacketAsData

## 📖 معرفی کلی


| ویژگی               | مقدار                                   | توضیح                                                                                     |
|---------------------|------------------------------------------|-------------------------------------------------------------------------------------------|
| **نوع نود**         | Tunnel (تک‌جهته)                         | جریان داده از چپ آغاز می‌شود و به راست پیش می‌رود.                                        |
| **لایهٔ شبکه**      | چپ: لایهٔ ۳، راست: لایهٔ ۴              | پکت‌های ورودی (لایهٔ ۳) را به دادهٔ جریان‌محور برای اتصال (لایهٔ ۴) تبدیل و ارسال می‌کند. |
| **جهت پشتیبانی**   | چپ به راست (Left to Right)              | دوطرفه نیست؛ فقط یک‌طرفه است.                                                             |
| **موقعیت در زنجیره**| میانهٔ زنجیره                            | فقط در میانهٔ زنجیره قابل استفاده است.                                                    |
| **وابستگی**         | حداقل یک نودِ لایهٔ ۳ در چپ و یک نودِ لایهٔ ۴ در راست | برای دریافت پکتِ ورودی و تحویل آن به لایهٔ ۴ ضروری‌اند.                      |

## عملکرد

همان‌طور که از نامش پیداست، انتظار دارد داده‌ای که از سمت چپ وارد می‌شود، پکت (Packet) باشد.

این نود برای هر ورکر (Worker) یک اتصال (Connection) مستقل ایجاد می‌کند و پکت‌هایی را که دریافت می‌کند، در همان اتصال ارسال می‌کند.

دادهٔ بازگشتی نیز از همان اتصال خوانده می‌شود و در صورت نیاز بافر (Buffer) می‌گردد تا هر پکت به‌طور کامل دریافت شود؛ سپس به‌عنوان پاسخ به سمت چپ بازگردانده می‌شود.

این نود هیچ تغییری در محتوا ایجاد نمی‌کند؛ صرفاً وظیفهٔ آن ایجاد اتصال برای پکت‌ها (برای هر ورکر یک اتصال) و جلوگیری از دریافت یا ارسال ناقص پکت‌هاست.

این نود معمولاً در سمت کلاینت به‌کار می‌رود و مکمل DataAsPacket است که کار معکوس را انجام می‌دهد (اغلب در سمت سرور VPN).

---

## ⚙️ راهنمای پیکربندی

```json
{
    "name": "node_name",
    "type": "PacketAsData",
    "settings": {},
    "next": "next_node_name"
}
```

:::caution نکات مهم
- این نود تنظیمات اختصاصی ندارد، اما ورودی آن باید «پکت» باشد.
- اگر زنجیره را طوری بسازید که به این نود دادهٔ غیرپکتی برسد، چون فرض را بر پکت‌بودن می‌گذارد، اندازه را از ابتدای جریان می‌خواند و منتظر کامل‌شدن پکت می‌ماند؛ این موضوع می‌تواند باعث ایجاد تأخیر، مسدودشدن جریان یا اختلال در زنجیره شود.
:::






