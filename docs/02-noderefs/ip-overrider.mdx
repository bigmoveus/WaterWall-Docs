---
sidebar_position: 100400
---

# IpOverrider

## 📖 معرفی کلی


| ویژگی              | مقدار                     | توضیح                                                                 |
|--------------------|---------------------------|------------------------------------------------------------------------|
| **نوع نود**        | Tunnel (دو‌جهته)         | ترافیک از هر دو جهت عبور می‌کند؛ می‌توانید جهت «اعمال تغییر» را مشخص کنید. |
| **لایه شبکه**      | لایه ۳                    | کار با بسته‌ها (Packet) بدون تغییر اندازه‌ی آن‌ها                     |
| **موقعیت در زنجیر**| وسط زنجیر                 | فقط در وسط زنجیر قابل استفاده است                                     |
| **وابستگی**        | نود قبل و بعد             | برای دریافت/ارسال داده ضروری است                                      |

---


## عملکرد

این نود در لایه ۳ شبکه کار می‌کند؛ بنابراین انتظار دارد داده‌ای که از آن عبور می‌کند «بسته (Packet)» باشد. این نود توانایی بازنویسی آدرس IP مبدأ یا مقصد بسته‌ها را دارد.

```json
{
  "name": "node_name",
  "type": "IpOverrider",
  "settings": {
    "direction": "<string>",
    "mode": "<string>",
    "ipv4": "<string>",
    "ipv6": "<string>"
  },
  "next": "next_node_name"
}
```

برای «direction» یکی از مقادیر زیر را وارد کنید:

```json
"direction": "up"
```

یعنی این نود فقط زمانی تغییرات را اعمال می‌کند که بسته از «سمت چپ به راست» حرکت کند؛ در جهت مخالف تغییری اعمال نمی‌شود.

```json
"direction": "down"
```

یعنی این نود فقط زمانی تغییرات را اعمال می‌کند که بسته از «سمت راست به چپ» حرکت کند؛ در جهت مخالف تغییری اعمال نمی‌شود.

برای «mode» یکی از مقادیر زیر را انتخاب کنید:

```json
"mode": "source-ip"
```

یعنی قصد دارید IP مبدأ را تغییر دهید؛ IP مقصد توسط این نود تغییری نمی‌کند.

```json
"mode": "dest-ip"
```

یعنی این نود IP مقصد را تغییر می‌دهد و IP مبدأ بدون دستکاری باقی می‌ماند.

برای تنظیم آدرس‌ها:

```json
"ipv4": "<string>"
"ipv6": "<string>"
```

آدرس(های) مدنظر را به‌صورت متنی وارد کنید. برای نمونه:

```json
"ipv4": "1.2.3.4"
```

---

- با این نود فقط می‌توانید «در یک جهت» تغییر اعمال کنید و «یا IP مبدأ یا IP مقصد» را بازنویسی کنید.
- اگر نیاز دارید هم IP مبدأ و هم IP مقصد را تغییر دهید، باید دو نمونه از این نود بسازید و آن‌ها را پشت‌سر هم در زنجیر قرار دهید.

:::caution نکته امنیتی

- معمولاً از روی یک VPS نمی‌توانید بسته‌ای به بیرون ارسال کنید که IP مبدأ آن «IP خود سرور شما» نباشد؛ بیشتر دیتاسنترها برای جلوگیری از حملات دی‌داس (DDoS) این نوع ترافیک را مسدود می‌کنند.
- برخی دیتاسنترها/فروشندگان خاص سرورهایی با قابلیت «اسپوف (Spoof)» ارائه می‌کنند که می‌توان با آن‌ها بسته با IP دلخواه ساخت.
- توجه کنید احتمال کلاه‌برداری در فروش چنین سرورهایی (خصوصاً توسط فروشندگان خارجی) بسیار بالاست؛ با دقت و بررسی کامل اقدام کنید.

:::
